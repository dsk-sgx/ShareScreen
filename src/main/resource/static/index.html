<!DOCTYPE html>
<html>
<head>
<script type="text/javascript" src="./jquery.js"></script>
<script type="text/javascript">
	$(function() {
		var ws = new WebSocket("ws://localhost:18080/screens");
		ws.onopen = function() {
		};
		ws.onclose = function() {
		};
		ws.onmessage = function(response) {
			var data = new Uint8Array(response);
			var url = URL.createObjectURL(new Blob([response], {type : "image/png"}));
			var image = new Image();
			image.onload = function() {
				URL.revokeObjectURL(url);
			};
			console.log(response);
			image.src = url;
			$("#images").append(image);
		};
		ws.onerror = function(event) {
			console.log("エラーが発生しました:" + event);
			alert("エラーが発生しました:" + event);
		};
	});
</script>
</head>
<body>
	<div id="images"></div>
</body>
</html>